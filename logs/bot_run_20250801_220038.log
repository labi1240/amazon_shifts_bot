2025-08-01 22:00:38 - root - INFO - Logging initialized. Log file: logs/bot_run_20250801_220038.log
2025-08-01 22:00:38 - __main__ - INFO - ✅ Loaded YAML configuration from: instant_booking_config.yaml
2025-08-01 22:00:38 - __main__ - INFO - ⚡ Fast mode: True
2025-08-01 22:00:38 - __main__ - INFO - 🎯 Instant booking: True
2025-08-01 22:00:38 - __main__ - INFO - ⏰ Check interval: 45s
2025-08-01 22:00:38 - __main__ - INFO - 👁️ Headless mode: False
2025-08-01 22:00:38 - __main__ - INFO - 👁️ Using YAML config headless setting: False
2025-08-01 22:00:38 - __main__ - INFO - 🚀 Starting Amazon Shift Bot [ID: e3ef6cea]
2025-08-01 22:00:38 - selenium.webdriver.common.driver_finder - DEBUG - Skipping Selenium Manager; path to chrome driver specified in Service class: /Users/lovepreetgill/developer/amazon_shift_bot/venv/lib/python3.12/site-packages/seleniumbase/drivers/uc_driver
2025-08-01 22:00:38 - selenium.webdriver.common.service - DEBUG - Started executable: `/Users/lovepreetgill/developer/amazon_shift_bot/venv/lib/python3.12/site-packages/seleniumbase/drivers/uc_driver` in a child process with pid: 33830 using 0 to output -1
2025-08-01 22:00:39 - asyncio - DEBUG - Using selector: KqueueSelector
2025-08-01 22:00:39 - selenium.webdriver.common.service - DEBUG - Started executable: `/Users/lovepreetgill/developer/amazon_shift_bot/venv/lib/python3.12/site-packages/seleniumbase/drivers/uc_driver` in a child process with pid: 33848 using 0 to output -1
2025-08-01 22:00:39 - services.session_service - INFO - 🔐 Establishing Amazon session
2025-08-01 22:00:39 - session_manager - INFO - 🧹 Cleaning up expired session files
2025-08-01 22:00:39 - session_manager - INFO - 🗑️ Session files cleared
2025-08-01 22:00:39 - session_manager - WARNING - ⚠️ No saved session found
2025-08-01 22:00:39 - session_manager - INFO - 🗑️ Session files cleared
2025-08-01 22:00:39 - services.session_service - INFO - 🔄 Creating new session from scratch
2025-08-01 22:00:39 - create_session - INFO - 🔐 Creating Amazon session...
2025-08-01 22:00:39 - create_session - INFO - 🌐 Navigating to Amazon hiring page...
2025-08-01 22:00:40 - seleniumbase.undetected.reactor - DEBUG - Exception ignored: HTTPConnectionPool(host='localhost', port=54214): Max retries exceeded with url: /session/7f1d551ea5e78cb4177db619b318ab78/se/log (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x107768e60>: Failed to establish a new connection: [Errno 61] Connection refused'))
2025-08-01 22:00:42 - selenium.webdriver.common.service - DEBUG - Started executable: `/Users/lovepreetgill/developer/amazon_shift_bot/venv/lib/python3.12/site-packages/seleniumbase/drivers/uc_driver` in a child process with pid: 33887 using 0 to output -1
2025-08-01 22:00:45 - amazon_page_objects - INFO - 🍪 Checking for consent buttons...
2025-08-01 22:00:45 - amazon_page_objects - INFO - ✅ Found consent button with selector 1: button[data-test-id="consentBtn"]
2025-08-01 22:00:46 - amazon_page_objects - INFO - ✅ Consent button clicked successfully with selector: button[data-test-id="consentBtn"]
2025-08-01 22:00:48 - amazon_page_objects - INFO - 🔐 Navigating to login...
2025-08-01 22:00:57 - amazon_page_objects - INFO - 🍪 Checking for consent buttons...
2025-08-01 22:00:57 - amazon_page_objects - INFO - ℹ️ Consent already handled, skipping...
2025-08-01 22:00:57 - amazon_page_objects - INFO - 🔍 Checking for bottom consent button...
2025-08-01 22:00:58 - amazon_page_objects - INFO - ✅ Found bottom consent button: button[data-test-component="StencilReactButton"] div:contains("I consent")
2025-08-01 22:00:58 - amazon_page_objects - INFO - ✅ Bottom consent button clicked successfully
2025-08-01 22:01:00 - amazon_page_objects - INFO - 📧 Entering email...
2025-08-01 22:01:00 - amazon_page_objects - INFO - 📧 Found email input field: input[data-test-id="input-test-id-login"]
2025-08-01 22:01:06 - amazon_page_objects - INFO - ➡️ Clicking continue button on email page: button[data-test-id="button-continue"]
2025-08-01 22:01:09 - amazon_page_objects - INFO - 🔍 Checking for bottom consent button...
2025-08-01 22:01:10 - amazon_page_objects - INFO - ℹ️ No bottom consent button found
2025-08-01 22:01:13 - amazon_page_objects - INFO - 🔍 Checking for PIN page...
2025-08-01 22:01:13 - amazon_page_objects - INFO - 🔐 Found PIN input field
2025-08-01 22:01:15 - amazon_page_objects - INFO - 🔐 Entered PIN: 151093
2025-08-01 22:01:17 - amazon_page_objects - INFO - ➡️ Clicking continue button on PIN page: button[data-test-id="button-continue"]
2025-08-01 22:01:23 - amazon_page_objects - INFO - 🔍 Checking for email verification selection page...
2025-08-01 22:01:23 - amazon_page_objects - INFO - 📧 Found email verification selection page
2025-08-01 22:01:24 - amazon_page_objects - INFO - 📧 Clicked 'Send verification code' button
2025-08-01 22:01:27 - create_session - INFO - 📧 Retrieving OTP from Gmail...
2025-08-01 22:01:30 - create_session - INFO - ✅ Retrieved OTP: 851193
2025-08-01 22:01:30 - amazon_page_objects - INFO - 🔍 Checking for OTP verification page...
2025-08-01 22:01:33 - amazon_page_objects - INFO - 🔍 OTP verification page found
2025-08-01 22:01:33 - amazon_page_objects - INFO - 📧 Entering OTP...
2025-08-01 22:01:35 - amazon_page_objects - INFO - ✅ Entered OTP: 851193
2025-08-01 22:01:39 - amazon_page_objects - INFO - 🎉 OTP submitted successfully!
2025-08-01 22:01:43 - amazon_page_objects - INFO - 🔍 Checking for bottom consent button...
2025-08-01 22:01:45 - amazon_page_objects - INFO - ℹ️ No bottom consent button found
2025-08-01 22:01:45 - create_session - INFO - 💾 Saving session...
2025-08-01 22:01:45 - session_manager - INFO - ✅ Session saved successfully for lovepreet@teamarora.com
2025-08-01 22:01:45 - session_manager - INFO - 📁 Session file: amazon_session.pkl
2025-08-01 22:01:45 - session_manager - INFO - 🍪 Cookies count: 15
2025-08-01 22:01:45 - create_session - INFO - ✅ Session created and saved successfully!
2025-08-01 22:01:45 - create_session - INFO - 📁 Session saved to: amazon_session.pkl
2025-08-01 22:01:45 - create_session - INFO - 🍪 Cookies saved to: amazon_cookies.json
2025-08-01 22:01:45 - page_objects.amazon.consent - DEBUG - Checking for consent popups
2025-08-01 22:01:45 - page_objects.amazon.consent - DEBUG - No consent popups found
2025-08-01 22:01:45 - seleniumbase.undetected.reactor - DEBUG - Exception ignored: HTTPConnectionPool(host='localhost', port=54214): Max retries exceeded with url: /session/c48ce9d038c616c27e8d56b6bf124e7e/se/log (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1077a9a00>: Failed to establish a new connection: [Errno 61] Connection refused'))
2025-08-01 22:01:46 - seleniumbase.undetected.reactor - DEBUG - Exception ignored: HTTPConnectionPool(host='localhost', port=54214): Max retries exceeded with url: /session/c48ce9d038c616c27e8d56b6bf124e7e/se/log (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1077a97f0>: Failed to establish a new connection: [Errno 61] Connection refused'))
2025-08-01 22:01:47 - seleniumbase.undetected.reactor - DEBUG - Exception ignored: HTTPConnectionPool(host='localhost', port=54214): Max retries exceeded with url: /session/c48ce9d038c616c27e8d56b6bf124e7e/se/log (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1077ab530>: Failed to establish a new connection: [Errno 61] Connection refused'))
2025-08-01 22:01:48 - seleniumbase.undetected.reactor - DEBUG - Exception ignored: HTTPConnectionPool(host='localhost', port=54214): Max retries exceeded with url: /session/c48ce9d038c616c27e8d56b6bf124e7e/se/log (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1077ab3e0>: Failed to establish a new connection: [Errno 61] Connection refused'))
2025-08-01 22:01:49 - selenium.webdriver.common.service - DEBUG - Started executable: `/Users/lovepreetgill/developer/amazon_shift_bot/venv/lib/python3.12/site-packages/seleniumbase/drivers/uc_driver` in a child process with pid: 34379 using 0 to output -1
2025-08-01 22:01:50 - services.session_service - DEBUG - Session valid - found: div[data-test-component="StencilReactRow"]
2025-08-01 22:01:50 - session_manager - INFO - ✅ Session saved successfully for lovepreet@teamarora.com
2025-08-01 22:01:50 - session_manager - INFO - 📁 Session file: amazon_session.pkl
2025-08-01 22:01:50 - session_manager - INFO - 🍪 Cookies count: 15
2025-08-01 22:01:50 - services.session_service - INFO - ✅ New session created and validated
2025-08-01 22:01:50 - enhanced_integrated_monitor - INFO - 🔔 Enhanced Discord notifier initialized successfully
2025-08-01 22:01:50 - enhanced_integrated_monitor - INFO - ✅ Loaded filter configuration from /Users/lovepreetgill/developer/amazon_shift_bot/filter_config.yaml
2025-08-01 22:01:50 - enhanced_integrated_monitor - INFO - 🚀 Starting Enhanced Job Monitor
2025-08-01 22:01:50 - enhanced_integrated_monitor - INFO - ✅ Enhanced components initialized successfully
2025-08-01 22:01:50 - enhanced_integrated_monitor - INFO - 📊 Starting monitoring cycle 1
2025-08-01 22:01:50 - enhanced_integrated_monitor - INFO - 🔍 Attempt 1: Processing URL 1/3: https://hiring.amazon.com/app#/jobSearch
2025-08-01 22:01:52 - seleniumbase.undetected.reactor - DEBUG - Exception ignored: HTTPConnectionPool(host='localhost', port=54214): Max retries exceeded with url: /session/7462dee05728324a864618b4b194e2d6/se/log (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1077a8ce0>: Failed to establish a new connection: [Errno 61] Connection refused'))
2025-08-01 22:01:53 - selenium.webdriver.common.service - DEBUG - Started executable: `/Users/lovepreetgill/developer/amazon_shift_bot/venv/lib/python3.12/site-packages/seleniumbase/drivers/uc_driver` in a child process with pid: 34395 using 0 to output -1
2025-08-01 22:03:05 - enhanced_integrated_monitor - INFO - Found guided search modal: div:contains("Tell us a little more about yourself")
2025-08-01 22:03:05 - enhanced_integrated_monitor - INFO - Clicking 'View all filters' using: button:contains("View all filters")
2025-08-01 22:03:12 - enhanced_integrated_monitor - INFO - Detected page type: search
2025-08-01 22:03:13 - enhanced_integrated_monitor - INFO - Found visible element with selector: button:contains("View all filters")
2025-08-01 22:03:13 - enhanced_integrated_monitor - INFO - ✅ Filters accessible via: button:contains("View all filters")
2025-08-01 22:03:13 - enhanced_integrated_monitor - INFO - 🚀 FAST MODE: Processing 8 cities with aggressive optimizations
2025-08-01 22:03:13 - enhanced_integrated_monitor - INFO - ⚡ Fast processing city 1/8: Seattle, WA
2025-08-01 22:03:13 - enhanced_integrated_monitor - INFO - ⚡ Found 25 jobs without filters, attempting instant booking
2025-08-01 22:03:13 - job_components - INFO - Extracting all job information
2025-08-01 22:03:13 - job_components - INFO - Total jobs found: 100
2025-08-01 22:03:13 - job_components - DEBUG - Found 25 job cards to process
2025-08-01 22:03:16 - job_components - INFO - Successfully extracted details for 25 jobs
2025-08-01 22:03:16 - job_components - INFO - Job extraction complete: 25 jobs, 1 total shifts
2025-08-01 22:03:16 - enhanced_integrated_monitor - INFO - 📊 Generated report: 100 total jobs, 25 jobs extracted
2025-08-01 22:03:16 - enhanced_integrated_monitor - INFO - 🎯 JOBS FOUND! 25 jobs available.
2025-08-01 22:03:16 - enhanced_integrated_monitor - INFO - 🎯 Booking enabled! Attempting immediate booking for 25 jobs...
2025-08-01 22:03:16 - enhanced_integrated_monitor - INFO - 🎯 Attempting to book job 1/25: Delivery Station Warehouse Associate
2025-08-01 22:03:16 - page_objects.shift_booking - INFO - 🔎 Starting shift slot discovery
2025-08-01 22:03:16 - page_objects.shift_booking - DEBUG - Found 25 cards using selector: div[data-test-id='JobCard']
2025-08-01 22:03:17 - page_objects.shift_booking - INFO - ✅ Discovered 25 available slots (excluding already booked)
2025-08-01 22:03:17 - enhanced_integrated_monitor - INFO - 🎯 Attempting to book slot: Delivery Station Warehouse Associate at Location TBD
2025-08-01 22:03:17 - page_objects.shift_booking - INFO - ▶️ Attempting to book slot: Delivery Station Warehouse Associate @ Location TBD
2025-08-01 22:03:17 - page_objects.shift_booking - WARNING - Failed to take initial screenshot: 'BaseCase' object has no attribute 'get_screenshot_as_png'
2025-08-01 22:03:17 - page_objects.shift_booking - INFO - 🔍 Found 25 job cards with selector: div[data-test-id='JobCard']
2025-08-01 22:03:17 - page_objects.shift_booking - INFO - 🖱️ Attempting to click job card 1 of 25
2025-08-01 22:03:18 - page_objects.shift_booking - WARNING - Click method 1 failed: Message: element click intercepted: Element <div data-test-component="StencilReactCard" data-test-id="JobCard" role="link" class="pointer focusableItem jobCardItem hvh-careers-emotion-rr9j32" tabindex="0">...</div> is not clickable at point (632, 467). Other element would receive the click: <div data-test-component="StencilFlyoutBackdrop" style="position: fixed; inset: 0px; background-color: rgb(35, 47, 62); opacity: 0.5;"></div>
  (Session info: chrome=138.0.7204.184); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#elementclickinterceptedexception
Stacktrace:
0   uc_driver                           0x00000001008e1a98 uc_driver + 6167192
1   uc_driver                           0x00000001008d904a uc_driver + 6131786
2   uc_driver                           0x0000000100365e00 uc_driver + 417280
3   uc_driver                           0x00000001003beb00 uc_driver + 781056
4   uc_driver                           0x00000001003bc95b uc_driver + 772443
5   uc_driver                           0x00000001003b9ff2 uc_driver + 761842
6   uc_driver                           0x00000001003b9710 uc_driver + 759568
7   uc_driver                           0x00000001003abe9a uc_driver + 704154
8   uc_driver                           0x00000001003ddc92 uc_driver + 908434
9   uc_driver                           0x00000001003ab818 uc_driver + 702488
10  uc_driver                           0x00000001003dde4e uc_driver + 908878
11  uc_driver                           0x000000010040510c uc_driver + 1069324
12  uc_driver                           0x00000001003dda63 uc_driver + 907875
13  uc_driver                           0x00000001003aa0c7 uc_driver + 696519
14  uc_driver                           0x00000001003aad31 uc_driver + 699697
15  uc_driver                           0x000000010089fc50 uc_driver + 5897296
16  uc_driver                           0x00000001008a3cc9 uc_driver + 5913801
17  uc_driver                           0x000000010087a962 uc_driver + 5744994
18  uc_driver                           0x00000001008a464f uc_driver + 5916239
19  uc_driver                           0x0000000100869634 uc_driver + 5674548
20  uc_driver                           0x00000001008c6628 uc_driver + 6055464
21  uc_driver                           0x00000001008c67f0 uc_driver + 6055920
22  uc_driver                           0x00000001008d8be1 uc_driver + 6130657
23  libsystem_pthread.dylib             0x00007ff811914df1 _pthread_start + 99
24  libsystem_pthread.dylib             0x00007ff811910857 thread_start + 15

2025-08-01 22:03:18 - page_objects.shift_booking - WARNING - Click method 2 failed: Message: javascript error: missing ) after argument list
  (Session info: chrome=138.0.7204.184)
Stacktrace:
0   uc_driver                           0x00000001008e1a98 uc_driver + 6167192
1   uc_driver                           0x00000001008d904a uc_driver + 6131786
2   uc_driver                           0x0000000100365e00 uc_driver + 417280
3   uc_driver                           0x000000010036cb5e uc_driver + 445278
4   uc_driver                           0x000000010036f82a uc_driver + 456746
5   uc_driver                           0x000000010040620a uc_driver + 1073674
6   uc_driver                           0x00000001003ddc92 uc_driver + 908434
7   uc_driver                           0x000000010040510c uc_driver + 1069324
8   uc_driver                           0x00000001003dda63 uc_driver + 907875
9   uc_driver                           0x00000001003aa0c7 uc_driver + 696519
10  uc_driver                           0x00000001003aad31 uc_driver + 699697
11  uc_driver                           0x000000010089fc50 uc_driver + 5897296
12  uc_driver                           0x00000001008a3cc9 uc_driver + 5913801
13  uc_driver                           0x000000010087a962 uc_driver + 5744994
14  uc_driver                           0x00000001008a464f uc_driver + 5916239
15  uc_driver                           0x0000000100869634 uc_driver + 5674548
16  uc_driver                           0x00000001008c6628 uc_driver + 6055464
17  uc_driver                           0x00000001008c67f0 uc_driver + 6055920
18  uc_driver                           0x00000001008d8be1 uc_driver + 6130657
19  libsystem_pthread.dylib             0x00007ff811914df1 _pthread_start + 99
20  libsystem_pthread.dylib             0x00007ff811910857 thread_start + 15

2025-08-01 22:03:19 - page_objects.shift_booking - INFO - ✅ Card clicked using method 3
2025-08-01 22:03:19 - page_objects.shift_booking - INFO - ⚡ Fast shift dropdown handling
2025-08-01 22:03:20 - page_objects.shift_booking - INFO - ⚡ Fast shift selection completed
2025-08-01 22:03:20 - page_objects.shift_booking - INFO - 🔍 Looking for apply button (attempt 1/3)
2025-08-01 22:03:21 - page_objects.shift_booking - INFO - ✅ Clicked apply button: button[data-test-id='jobDetailApplyButtonDesktop']
2025-08-01 22:03:24 - page_objects.shift_booking - INFO - ✅ Booking flow completed successfully
2025-08-01 22:03:24 - enhanced_integrated_monitor - INFO - 🎉 SUCCESSFULLY BOOKED: Delivery Station Warehouse Associate at Location TBD
2025-08-01 22:03:24 - enhanced_notifier - INFO - 🔔 Discord notification sent successfully
2025-08-01 22:03:24 - enhanced_integrated_monitor - INFO - 🔔 Enhanced Discord booking notification sent successfully
2025-08-01 22:03:24 - enhanced_integrated_monitor - INFO - 🎉 SHIFT SUCCESSFULLY BOOKED! Stopping further monitoring.
2025-08-01 22:03:24 - enhanced_integrated_monitor - INFO - 🎉 LIGHTNING BOOKING SUCCESS! Job booked in Seattle, WA
2025-08-01 22:03:24 - enhanced_integrated_monitor - INFO - 🎉 Booking successful! Stopping monitoring.
2025-08-01 22:03:24 - enhanced_integrated_monitor - INFO - 🎉 SHIFT SUCCESSFULLY BOOKED! Stopping monitoring completely.
2025-08-01 22:03:24 - enhanced_integrated_monitor - INFO - 🏁 Enhanced monitoring stopped
2025-08-01 22:03:25 - seleniumbase.undetected.reactor - DEBUG - Exception ignored: HTTPConnectionPool(host='localhost', port=54214): Max retries exceeded with url: /session/8af66c8ea6c8c9e77a3231a35851c6d7/se/log (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x10776be90>: Failed to establish a new connection: [Errno 61] Connection refused'))
